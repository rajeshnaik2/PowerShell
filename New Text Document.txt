using System;

using System.Collections.Generic;

using System.Linq;

using System.Text;

using System.Threading.Tasks;

using Microsoft.ServiceBus.Messaging;


namespace MobileAppServiceBus.Sender

{

    class Program

    {

        static void Main(string[] args)

        {

            var connectionString = ""
            var queueName = "queuetest1";


            var queueClient = QueueClient.CreateFromConnectionString(connectionString, queueName);

            //var message = new BrokeredMessage("This is a test message!");


            // Send some messages

            for (int i = 0; i < 10; i++)

            {

                var message = new BrokeredMessage("Test Message number : " + i);

                queueClient.Send(message);

                Console.WriteLine(String.Format("Message body: {0}", message.GetBody<String>()));

                Console.WriteLine(String.Format("Message id: {0}", message.MessageId));

                Console.WriteLine("Test message sent to queue: " + i);

            }

            queueClient.Close();


            Console.WriteLine("Message successfully sent! Press ENTER to exit program");

            Console.ReadLine();


        }

    }

}
